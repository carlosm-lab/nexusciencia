{% extends 'base.html' %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/request.css') }}">
{% endblock %}

{% block header_title %}
<div class="header-category-title">Solicitar Artículo</div>
{% endblock %}

{% block content %}

<div class="request-layout">

    <div class="form-section">
        <div class="form-card">
            <h2 class="form-title">Detalles de la Solicitud</h2>

            <form id="requestForm" class="nexus-form">

                <div class="form-row">
                    <div class="form-group">
                        <label for="name">Tu Nombre</label>
                        <input type="text" id="name" name="name" placeholder="Ej: Juan Pérez" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Correo Electrónico</label>
                        <input type="email" id="email" name="email" placeholder="Para notificarte" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="topic">Título o Tema Sugerido</label>
                    <input type="text" id="topic" name="topic" placeholder="Ej: Impacto del sueño en la memoria"
                        required>
                </div>

                <div class="form-group">
                    <label for="category">Categoría Sugerida</label>
                    <select id="category" name="category" required>
                        <option value="" disabled selected>Selecciona dónde encajaría...</option>
                        {% for cat in todas_las_categorias %}
                        <option value="{{ cat }}">{{ cat }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="form-group">
                    <label for="description">Enfoque Deseado (Opcional)</label>
                    <textarea id="description" name="description" rows="4"
                        placeholder="¿Buscas un enfoque clínico, experimental o divulgativo?"></textarea>
                </div>

                <button type="submit" class="btn-submit" id="submitBtn">
                    <span class="btn-text">Enviar Solicitud</span>
                    <span class="btn-loader"></span>
                    <span class="btn-success-icon">✓</span>
                </button>
            </form>
        </div>
    </div>

    <div class="info-section">

        <div class="illustration-box">
            <div class="illustration-content">
                <svg viewBox="0 0 500 500" fill="none" xmlns="http://www.w3.org/2000/svg" class="request-svg">
                    <rect x="150" y="150" width="200" height="260" rx="20" fill="white" stroke="#3B82F6"
                        stroke-width="8" />
                    <rect x="180" y="190" width="140" height="10" rx="5" fill="#E2E8F0" />
                    <rect x="180" y="220" width="100" height="10" rx="5" fill="#E2E8F0" />
                    <rect x="180" y="250" width="140" height="10" rx="5" fill="#E2E8F0" />
                    <circle cx="320" cy="380" r="40" fill="#10B981" />
                    <path d="M305 380L315 390L335 370" stroke="white" stroke-width="6" stroke-linecap="round"
                        stroke-linejoin="round" />
                    <path d="M120 120L180 180" stroke="#F59E0B" stroke-width="8" stroke-linecap="round" />
                    <circle cx="120" cy="120" r="15" fill="#F59E0B" />
                </svg>
                <h4>Tu voz cuenta</h4>
                <p>Construimos este repositorio en comunidad.</p>
            </div>
        </div>

        <div class="process-box">
            <h3>Proceso de Evaluación</h3>
            <ul class="process-list">
                <li>
                    <div class="step-num">1</div>
                    <div class="step-text"><strong>Recepción:</strong> Revisamos la relevancia académica del tema
                        sugerido.</div>
                </li>
                <li>
                    <div class="step-num">2</div>
                    <div class="step-text"><strong>Búsqueda:</strong> Localizamos fuentes fiables y estudios recientes.
                    </div>
                </li>
                <li>
                    <div class="step-num">3</div>
                    <div class="step-text"><strong>Publicación:</strong> Si es aprobado, se publica en 5-7 días.</div>
                </li>
            </ul>
        </div>

    </div>
</div>

<div class="faq-footer-section">
    <h2 class="section-heading-small">Preguntas sobre Solicitudes</h2>

    <div class="accordion">
        <div class="accordion-item">
            <button class="accordion-header">
                <span>¿Qué tipo de artículos puedo sugerir?</span>
                <svg class="arrow" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2">
                    <path d="M6 9l6 6 6-6" />
                </svg>
            </button>
            <div class="accordion-body">
                <p>Aceptamos sugerencias sobre temas educativos, psicológicos, neurocientíficos y de comportamiento
                    humano.</p>
            </div>
        </div>
        <div class="accordion-item">
            <button class="accordion-header">
                <span>¿Hay un límite de solicitudes?</span>
                <svg class="arrow" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2">
                    <path d="M6 9l6 6 6-6" />
                </svg>
            </button>
            <div class="accordion-body">
                <p>Para garantizar la calidad, limitamos a 3 solicitudes semanales por usuario.</p>
            </div>
        </div>
        <div class="accordion-item">
            <button class="accordion-header">
                <span>¿Cómo sé si mi solicitud fue aprobada?</span>
                <svg class="arrow" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2">
                    <path d="M6 9l6 6 6-6" />
                </svg>
            </button>
            <div class="accordion-body">
                <p>Puedes revisar la sección "Últimas Publicaciones" en el Dashboard regularmente.</p>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/request.js') }}"></script>
{% endblock %}